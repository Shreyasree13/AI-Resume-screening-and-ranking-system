Refactor code and add CICD pipeline
